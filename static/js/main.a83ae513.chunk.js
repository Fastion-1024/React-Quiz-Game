(this["webpackJsonpreact-quiz-game"]=this["webpackJsonpreact-quiz-game"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var c,a,r=n(2),s=n.n(r),i=n(11),l=n.n(i),o=n(4),u=n(3);!function(e){e.Standard="STANDARD",e.Time="TIME",e.Marathon="MARATHON"}(c||(c={})),function(e){e.Main_Menu="Main_Menu",e.Options="Options",e.Quiz="Quiz"}(a||(a={}));var d=n(1),j=s.a.createContext(null),b=function(){return Object(r.useContext)(j)},x=function(e){var t=e.children,n=Object(r.useState)(a.Main_Menu),s=Object(o.a)(n,2),i=s[0],l=s[1],b=Object(r.useState)({category:"",difficulty:"",type:"",amount:10}),x=Object(o.a)(b,2),f=x[0],m=x[1],h=Object(r.useState)("https://opentdb.com/api.php?amount=10&encode=url3986"),O=Object(o.a)(h,2),p=O[0],y=O[1],v=Object(r.useState)(c.Standard),g=Object(o.a)(v,2),N=g[0],w=g[1],M=function(e){var t={};e.category&&(t=Object(u.a)(Object(u.a)({},t),{},{category:e.category})),e.difficulty&&(t=Object(u.a)(Object(u.a)({},t),{},{difficulty:e.difficulty})),e.type&&(t=Object(u.a)(Object(u.a)({},t),{},{type:e.type})),t=Object(u.a)(Object(u.a)({},t),{},{amount:e.amount}),t=Object(u.a)(Object(u.a)({},t),{},{encode:"url3986"});var n=new URLSearchParams(t);return console.log("https://opentdb.com/api.php?".concat(n)),"https://opentdb.com/api.php?".concat(n)};return Object(d.jsx)(j.Provider,{value:{activeComponent:i,gameOptions:f,fetchURL:p,gameMode:N,navigateToMainMenu:function(){l(a.Main_Menu)},navigateToOptions:function(){l(a.Options)},navigateToQuiz:function(e){l(a.Quiz),w(e),e===c.Marathon&&y(M(Object(u.a)(Object(u.a)({},f),{},{category:"",type:"multiple",amount:50})))},updateGameOptions:function(e){m(e),y(M(e))}},children:t})},f=n(5),m=n(12),h=function(){var e=b(),t=e.navigateToQuiz,n=e.navigateToOptions,a=Object(r.useState)(c.Standard),s=Object(o.a)(a,2),i=s[0],l=s[1];return Object(d.jsxs)("section",{className:"main-menu-container",children:[Object(d.jsx)("div",{className:"absolute top-1/2 left-0 z-20 transform -translate-y-1/2 -translate-x-24 sm:-translate-x-28 md:-translate-x-32 h-64 w-64 sm:h-80 sm:w-80 md:h-96 md:w-96 rounded-full border-12 sm:border-16 md:border-20 border-gray-700 bg-gray-500 ",children:function(){switch(i){case c.Standard:return Object(d.jsx)(f.d,{className:"w-full h-full p-14 text-white"});case c.Time:return Object(d.jsx)(m.a,{className:"w-full h-full p-14 text-white transform -rotate-12"});case c.Marathon:return Object(d.jsx)(f.f,{className:"w-full h-full p-14 text-white"});default:throw Error("No matching mode found!")}}()}),Object(d.jsx)("h1",{className:"text-center text-5xl sm:text-6xl md:text-7xl text-white font-black filter text-shadow-multi my-8",children:"Trivia Quiz"}),Object(d.jsxs)("div",{className:"absolute top-1/2 left-20 md:left-32 z-10 w-2/3 transform -translate-y-1/2 flex flex-col space-y-6 sm:space-y-8 md:space-y-10",children:[Object(d.jsx)("button",{className:"btn-standard",onClick:function(){return t(c.Standard)},onMouseEnter:function(){return l(c.Standard)},children:"Standard"}),Object(d.jsx)("button",{className:"btn-standard",onClick:function(){return t(c.Time)},onMouseEnter:function(){return l(c.Time)},children:"Timed"}),Object(d.jsx)("button",{className:"btn-standard",onClick:function(){return t(c.Marathon)},onMouseEnter:function(){return l(c.Marathon)},children:"Marathon"})]}),Object(d.jsxs)("div",{className:"absolute bottom-0 w-full flex justify-between p-5 z-10",children:[Object(d.jsxs)("button",{className:"text-5xl sm:text-6xl md:text-7xl text-white",onClick:n,children:[Object(d.jsx)(f.b,{"aria-hidden":!0,focusable:!1}),Object(d.jsx)("span",{className:"visually-hidden",children:"Options"})]}),Object(d.jsxs)("button",{className:"text-5xl sm:text-6xl md:text-7xl text-white",onClick:n,children:[Object(d.jsx)(f.a,{"aria-hidden":!0,focusable:!1}),Object(d.jsx)("span",{className:"visually-hidden",children:"Score"})]})]})]})},O=n(10),p=n.n(O),y=n(13),v=function(e,t){var n=Object(r.useRef)({}),c=Object(r.useRef)(!1),a={error:void 0,data:void 0},s=Object(r.useReducer)((function(e,t){switch(t.type){case"loading":return Object(u.a)({},a);case"fetched":return Object(u.a)(Object(u.a)({},a),{},{data:t.payload});case"error":return Object(u.a)(Object(u.a)({},a),{},{error:t.payload});default:return e}}),a),i=Object(o.a)(s,2),l=i[0],d=i[1];return Object(r.useEffect)((function(){if(e){var a=function(){var a=Object(y.a)(p.a.mark((function a(){var r,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(d({type:"loading"}),!n.current[e]){a.next=4;break}return d({type:"fetched",payload:n.current[e]}),a.abrupt("return");case 4:return a.prev=4,a.next=7,fetch(e,t);case 7:if((r=a.sent).ok){a.next=10;break}throw new Error(r.statusText);case 10:return a.next=12,r.json();case 12:if(s=a.sent,n.current[e]=s,!c.current){a.next=16;break}return a.abrupt("return");case 16:d({type:"fetched",payload:s}),a.next=24;break;case 19:if(a.prev=19,a.t0=a.catch(4),!c.current){a.next=23;break}return a.abrupt("return");case 23:d({type:"error",payload:a.t0});case 24:case"end":return a.stop()}}),a,null,[[4,19]])})));return function(){return a.apply(this,arguments)}}();return a(),function(){c.current=!0}}}),[e]),l},g=n(14),N=function(){var e=v("https://opentdb.com/api_category.php"),t=e.data,n=(e.error,b()),c=n.gameOptions,a=n.navigateToMainMenu,s=n.updateGameOptions,i=Object(r.useState)(c),l=Object(o.a)(i,2),j=l[0],x=l[1];return Object(d.jsxs)("section",{className:"options-container",children:[Object(d.jsx)("h1",{className:"text-center text-5xl sm:text-6xl md:text-7xl text-white font-black filter text-shadow-multi my-4 sm:my-6",children:"Options"}),Object(d.jsx)("label",{className:"block text-center text-2xl sm:text-3xl mt-8 mb-2 sm:mb-4",htmlFor:"categories",children:"Select Category"}),Object(d.jsxs)("select",{className:"block py-2 text-center rounded-lg text-xl bg-gray-300 mx-auto max-w-full",id:"categories",value:j.category,onChange:function(e){return x(Object(u.a)(Object(u.a)({},j),{},{category:e.target.value}))},children:[Object(d.jsx)("option",{value:"",children:"Any Category"}),t&&t.trivia_categories.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.name})}))]}),Object(d.jsx)("h2",{className:"text-center text-2xl sm:text-3xl mt-8 mb-2 sm:mb-4",children:"Select Difficulty"}),Object(d.jsxs)("div",{className:"flex justify-center items-center",children:[Object(d.jsxs)("div",{className:"inline-flex rounded-lg",children:[Object(d.jsx)("input",{type:"radio",name:"difficulty",id:"difficultyAny",value:"",hidden:!0,checked:""===j.difficulty,onChange:function(e){return x(Object(u.a)(Object(u.a)({},j),{},{difficulty:e.target.value}))}}),Object(d.jsx)("label",{htmlFor:"difficultyAny",className:"radio disable-select text-center text-l sm:text-xl self-center py-2 px-4 rounded-lg cursor-pointer hover:opacity-75 bg-gray-300",children:"Any"})]}),Object(d.jsxs)("div",{className:"inline-flex rounded-lg",children:[Object(d.jsx)("input",{type:"radio",name:"difficulty",id:"difficultyEasy",value:"easy",hidden:!0,checked:"easy"===j.difficulty,onChange:function(e){return x(Object(u.a)(Object(u.a)({},j),{},{difficulty:e.target.value}))}}),Object(d.jsx)("label",{htmlFor:"difficultyEasy",className:"radio disable-select text-center text-l sm:text-xl self-center py-2 px-4 rounded-lg cursor-pointer hover:opacity-75 bg-gray-300",children:"Easy"})]}),Object(d.jsxs)("div",{className:"inline-flex rounded-lg",children:[Object(d.jsx)("input",{type:"radio",name:"difficulty",id:"difficultyMedium",value:"medium",hidden:!0,checked:"medium"===j.difficulty,onChange:function(e){return x(Object(u.a)(Object(u.a)({},j),{},{difficulty:e.target.value}))}}),Object(d.jsx)("label",{htmlFor:"difficultyMedium",className:"radio disable-select text-center text-l sm:text-xl self-center py-2 px-4 rounded-lg cursor-pointer hover:opacity-75 bg-gray-300",children:"Medium"})]}),Object(d.jsxs)("div",{className:"inline-flex rounded-lg",children:[Object(d.jsx)("input",{type:"radio",name:"difficulty",id:"difficultyHard",value:"hard",hidden:!0,checked:"hard"===j.difficulty,onChange:function(e){return x(Object(u.a)(Object(u.a)({},j),{},{difficulty:e.target.value}))}}),Object(d.jsx)("label",{htmlFor:"difficultyHard",className:"radio disable-select text-center text-l sm:text-xl self-center py-2 px-4 rounded-lg cursor-pointer hover:opacity-75 bg-gray-300",children:"Hard"})]})]}),Object(d.jsx)("h2",{className:"text-center text-2xl sm:text-3xl mt-8 mb-2 sm:mb-4",children:"Select Type"}),Object(d.jsxs)("div",{className:"flex justify-center items-center",children:[Object(d.jsxs)("div",{className:"inline-flex rounded-lg",children:[Object(d.jsx)("input",{type:"radio",name:"type",id:"typeAny",value:"",hidden:!0,checked:""===j.type,onChange:function(e){return x(Object(u.a)(Object(u.a)({},j),{},{type:e.target.value}))}}),Object(d.jsx)("label",{htmlFor:"typeAny",className:"radio disable-select text-center text-l sm:text-xl self-center py-2 px-4 rounded-lg cursor-pointer hover:opacity-75 bg-gray-300",children:"Any"})]}),Object(d.jsxs)("div",{className:"inline-flex rounded-lg",children:[Object(d.jsx)("input",{type:"radio",name:"type",id:"typeMultiple",value:"multiple",hidden:!0,checked:"multiple"===j.type,onChange:function(e){return x(Object(u.a)(Object(u.a)({},j),{},{type:e.target.value}))}}),Object(d.jsx)("label",{htmlFor:"typeMultiple",className:"radio disable-select text-center text-l sm:text-xl self-center py-2 px-4 rounded-lg cursor-pointer hover:opacity-75 bg-gray-300",children:"Multiple Choice"})]}),Object(d.jsxs)("div",{className:"inline-flex rounded-lg",children:[Object(d.jsx)("input",{type:"radio",name:"type",id:"typeBoolean",value:"boolean",hidden:!0,checked:"boolean"===j.type,onChange:function(e){return x(Object(u.a)(Object(u.a)({},j),{},{type:e.target.value}))}}),Object(d.jsx)("label",{htmlFor:"typeBoolean",className:"radio disable-select text-center text-l sm:text-xl self-center py-2 px-4 rounded-lg cursor-pointer hover:opacity-75 bg-gray-300",children:"True / False"})]})]}),Object(d.jsx)("h2",{className:"text-center text-2xl sm:text-3xl mt-8 mb-2 sm:mb-4",children:"Select Number of Questions"}),Object(d.jsxs)("div",{className:"flex justify-center items-center",children:[Object(d.jsxs)("div",{className:"inline-flex rounded-lg",children:[Object(d.jsx)("input",{type:"radio",name:"amount",id:"amountTen",value:10,hidden:!0,checked:10===j.amount,onChange:function(e){return x(Object(u.a)(Object(u.a)({},j),{},{amount:parseInt(e.target.value)}))}}),Object(d.jsx)("label",{htmlFor:"amountTen",className:"radio disable-select text-center text-l sm:text-xl self-center py-2 px-4 rounded-lg cursor-pointer hover:opacity-75 bg-gray-300",children:"10"})]}),Object(d.jsxs)("div",{className:"inline-flex rounded-lg",children:[Object(d.jsx)("input",{type:"radio",name:"amount",id:"amountFifteen",value:15,hidden:!0,checked:15===j.amount,onChange:function(e){return x(Object(u.a)(Object(u.a)({},j),{},{amount:parseInt(e.target.value)}))}}),Object(d.jsx)("label",{htmlFor:"amountFifteen",className:"radio disable-select text-center text-l sm:text-xl self-center py-2 px-4 rounded-lg cursor-pointer hover:opacity-75 bg-gray-300",children:"15"})]}),Object(d.jsxs)("div",{className:"inline-flex rounded-lg",children:[Object(d.jsx)("input",{type:"radio",name:"amount",id:"amountTwenty",value:20,hidden:!0,checked:20===j.amount,onChange:function(e){return x(Object(u.a)(Object(u.a)({},j),{},{amount:parseInt(e.target.value)}))}}),Object(d.jsx)("label",{htmlFor:"amountTwenty",className:"radio disable-select text-center text-l sm:text-xl self-center py-2 px-4 rounded-lg cursor-pointer hover:opacity-75 bg-gray-300",children:"20"})]})]}),Object(d.jsxs)("button",{className:"absolute bottom-5 left-5 z-10 text-5xl sm:text-6xl md:text-7xl text-white",onClick:function(){s(j),a()},children:[Object(d.jsx)(g.a,{"aria-hidden":!0,focusable:!1}),Object(d.jsx)("span",{className:"visually-hidden",children:"Back"})]})]})},w=n(6),M=function(e,t){var n=v(e,t),c=n.data,a=n.error,s=Object(r.useState)(),i=Object(o.a)(s,2),l=i[0],d=i[1];return Object(r.useEffect)((function(){if(c){var e=c.results.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{category:decodeURIComponent(e.category),question:decodeURIComponent(e.question),correct_answer:decodeURIComponent(e.correct_answer),incorrect_answers:e.incorrect_answers.map((function(e){return decodeURIComponent(e)}))})}));d(e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{shuffled_answers:(t=[].concat(Object(w.a)(e.incorrect_answers),[e.correct_answer]),Object(w.a)(t).sort((function(){return Math.random()-.5})))});var t})))}}),[c]),[l,a]},k=function(e){var t,n=e.question,c=e.userAnswer,a=e.callback;return Object(d.jsxs)("div",{className:"flex flex-col justify-center h-full",children:[Object(d.jsx)("h1",{className:"text-center text-2xl font-bold my-10 px-4",children:n.question}),Object(d.jsx)("div",{className:"flex flex-col h-full space-y-5",children:null===(t=n.shuffled_answers)||void 0===t?void 0:t.map((function(e,t){return Object(d.jsx)("button",{className:"btn-standard",value:e,disabled:!!c,onClick:function(e){return a(e.currentTarget.value)},children:e},t)}))})]})},S=function(e){var t=e.score,n=e.userAnswers;return Object(d.jsxs)("div",{className:"flex flex-col items-center space-y-5",children:[Object(d.jsx)("h2",{className:"text-2xl font-bold",children:"Your Final Score"}),Object(d.jsx)("h3",{className:"text-2xl font-bold",children:t}),n.map((function(e,t){return Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("h3",{className:" font-bold mb-2",children:e.question}),Object(d.jsxs)("h4",{children:["Your Answer:- ",e.answer]}),Object(d.jsxs)("h4",{children:["Correct Answer:- ",e.correctAnswer]})]},t)}))]})},T=function(e,t){var n=Object(r.useState)(e),c=Object(o.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(!1),l=Object(o.a)(i,2),u=l[0],d=l[1],j=Object(r.useRef)(),b=Object(r.useRef)(),x=function(){d(!1)};return Object(r.useEffect)((function(){b.current=t}),[t]),Object(r.useEffect)((function(){return u&&(j.current=window.setInterval((function(){var e=a-1;e>=0?s(e):(b.current&&b.current(),x())}),1e3)),function(){return window.clearInterval(j.current)}}),[u,a]),[a,u,function(){d(!0)},x,function(){s(e),d(!1)}]},C=function(e){var t=e.currentTime/e.maxTime*100;return Object(d.jsx)("div",{className:"h-5 bg-green-100 relative",children:Object(d.jsx)("div",{style:{width:"".concat(t,"%")},className:"h-5 bg-green-300 transition-{width} duration-1000 ease-linear"})})},A=function(e){var t=e.currentLives,n=e.maxLives,c=Array.from(Array(n).keys());return Object(d.jsx)("div",{className:"flex flex-row justify-center my-2 space-x-1",children:c.map((function(e,n){return n<t?Object(d.jsx)(f.c,{className:"fill-current text-red-500"}):Object(d.jsx)(f.e,{className:"fill-current text-red-500"})}))})},_=function(e){var t=e.url,n=e.mode,a=M(t),s=Object(o.a)(a,2),i=s[0],l=s[1],u=Object(r.useState)(0),j=Object(o.a)(u,2),x=j[0],f=j[1],m=Object(r.useState)(0),h=Object(o.a)(m,2),O=h[0],p=h[1],y=Object(r.useState)(!1),v=Object(o.a)(y,2),g=v[0],N=v[1],_=Object(r.useState)([]),E=Object(o.a)(_,2),F=E[0],R=E[1],z=T(20,(function(){return J("")})),I=Object(o.a)(z,5),q=I[0],L=(I[1],I[2]),Q=(I[3],I[4]),U=Object(r.useState)(5),B=Object(o.a)(U,2),H=B[0],D=B[1],G=b().navigateToMainMenu,J=function(e){if(i){var t=i[x].correct_answer===e;if(t&&Y(),!t&&n===c.Marathon){var a=H-1;a>=0?D(a):N(!0)}var r={question:i[x].question,answer:e,correct:t,correctAnswer:i[x].correct_answer};R((function(e){return[].concat(Object(w.a)(e),[r])})),setTimeout((function(){P()}),500)}},P=function(){var e=x+1;i&&e<i.length?f(e):N(!0)},Y=function(){switch(n){case c.Standard:p((function(e){return e+1}));break;case c.Time:p((function(e){return e+Math.max(0,q)}));break;case c.Marathon:p((function(e){return e+5*H}));break;default:throw new Error("No matching mode found!")}};return Object(r.useEffect)((function(){n===c.Time&&(Q(),L())}),[x]),l?Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:l.message})}):i?g?Object(d.jsxs)("div",{className:"flex flex-col h-full p-5 space-y-5",children:[Object(d.jsx)(S,{score:O,userAnswers:F}),Object(d.jsx)("button",{className:"btn-standard",onClick:G,children:"Back"})]}):Object(d.jsxs)("div",{className:"flex flex-col justify-evenly h-full w-full",children:[Object(d.jsxs)("div",{className:"flex flex-row justify-between px-5 py-1 bg-gray-400",children:[Object(d.jsxs)("h4",{children:[x+1," / ",i.length]}),Object(d.jsxs)("h4",{children:["Score:- ",O]})]}),n===c.Time&&Object(d.jsx)(C,{currentTime:q,maxTime:20}),n===c.Marathon&&Object(d.jsx)(A,{currentLives:H,maxLives:5}),Object(d.jsx)(k,{question:i[x],userAnswer:F[x],callback:J})]}):Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Loading..."})})};var E=function(){var e=b(),t=e.activeComponent,n=e.fetchURL,c=e.gameMode;return Object(d.jsxs)("main",{className:"h-screen w-screen flex justify-center items-center",children:[t===a.Main_Menu&&Object(d.jsx)(h,{}),t===a.Options&&Object(d.jsx)(N,{}),t===a.Quiz&&Object(d.jsx)(_,{url:n,mode:c})]})};n(21);l.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(x,{children:Object(d.jsx)(E,{})})}),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.a83ae513.chunk.js.map