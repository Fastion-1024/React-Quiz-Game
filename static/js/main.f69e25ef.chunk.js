(this["webpackJsonpreact-quiz-game"]=this["webpackJsonpreact-quiz-game"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c,r,a=n(2),i=n.n(a),o=n(9),u=n.n(o),s=n(1),j=n(3);!function(e){e.Standard="STANDARD",e.Time="TIME",e.Score="SCORE",e.Marathon="MARATHON"}(c||(c={})),function(e){e.Main_Menu="Main_Menu",e.Options="Options",e.Standard_Quiz="Standard_Quiz",e.Time_Quiz="Time_Quiz",e.Score_Quiz="Score_Quiz",e.Marathon_Quiz="Marathon_Quiz"}(r||(r={}));var l=n(0),b=i.a.createContext(null),d=function(){return Object(a.useContext)(b)},O=function(e){var t=e.children,n=Object(a.useState)(r.Main_Menu),c=Object(j.a)(n,2),i=c[0],o=c[1],u=Object(a.useState)({category:"",difficulty:"",type:"",amount:10}),d=Object(j.a)(u,2),O=d[0],h=d[1],f=Object(a.useState)("https://opentdb.com/api.php?amount=10&encode=url3986"),p=Object(j.a)(f,2),v=p[0],x=p[1],m=function(e){var t={};e.category&&(t=Object(s.a)(Object(s.a)({},t),{},{category:e.category})),e.category&&(t=Object(s.a)(Object(s.a)({},t),{},{difficulty:e.difficulty})),e.category&&(t=Object(s.a)(Object(s.a)({},t),{},{type:e.type})),t=Object(s.a)(Object(s.a)({},t),{},{amount:e.amount}),t=Object(s.a)(Object(s.a)({},t),{},{encode:"url3986"});var n=new URLSearchParams(t);return console.log("https://opentdb.com/api.php?".concat(n)),"https://opentdb.com/api.php?".concat(n)};return Object(l.jsx)(b.Provider,{value:{activeComponent:i,gameOptions:O,fetchURL:v,navigateToMainMenu:function(){o(r.Main_Menu)},navigateToOptions:function(){o(r.Options)},navigateToStandardGame:function(){o(r.Standard_Quiz)},navigateToScoreGame:function(){o(r.Score_Quiz)},navigateToTimeGame:function(){o(r.Time_Quiz)},navigateToMarathonGame:function(){o(r.Marathon_Quiz)},updateGameOptions:function(e){h(e),x(m(e))}},children:t})},h=function(){var e=d(),t=e.navigateToStandardGame,n=e.navigateToTimeGame,c=e.navigateToScoreGame,r=e.navigateToMarathonGame,a=e.navigateToOptions;return Object(l.jsxs)("section",{className:"main-menu",children:[Object(l.jsx)("h1",{children:"Trivia Quiz"}),Object(l.jsx)("button",{onClick:t,children:"Standard"}),Object(l.jsx)("button",{onClick:n,children:"Time Attack"}),Object(l.jsx)("button",{onClick:c,children:"Score"}),Object(l.jsx)("button",{onClick:r,children:"Marathon"}),Object(l.jsx)("button",{onClick:a,children:"Options"})]})},f=function(){var e=d(),t=e.gameOptions,n=e.navigateToMainMenu,c=e.updateGameOptions,r=Object(a.useState)(t),i=Object(j.a)(r,2),o=i[0],u=i[1];return Object(l.jsxs)("section",{className:"mode-options",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"categories",children:"Select Category"}),Object(l.jsx)("select",{id:"categories",value:o.category,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{category:e.target.value}))},children:Object(l.jsx)("option",{value:"",children:"Any Category"})})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"difficulty",children:"Select Difficulty"}),Object(l.jsxs)("select",{id:"difficulty",value:o.difficulty,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{difficulty:e.target.value}))},children:[Object(l.jsx)("option",{value:"",children:"Any Difficulty"}),Object(l.jsx)("option",{value:"easy",children:"Easy"}),Object(l.jsx)("option",{value:"medium",children:"Medium"}),Object(l.jsx)("option",{value:"hard",children:"Hard"})]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"type",children:"Select Type"}),Object(l.jsxs)("select",{id:"type",value:o.type,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{type:e.target.value}))},children:[Object(l.jsx)("option",{value:"",children:"Any Type"}),Object(l.jsx)("option",{value:"multiple",children:"Multiple Choice"}),Object(l.jsx)("option",{value:"boolean",children:"True / False"})]})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{htmlFor:"number",children:"Select Number of Questions"}),Object(l.jsxs)("select",{id:"number",value:o.amount,onChange:function(e){return u(Object(s.a)(Object(s.a)({},o),{},{amount:parseInt(e.target.value)}))},children:[Object(l.jsx)("option",{value:10,children:"10"}),Object(l.jsx)("option",{value:15,children:"15"}),Object(l.jsx)("option",{value:20,children:"20"})]})]}),Object(l.jsx)("button",{onClick:function(){c(o),n()},children:"Back"})]})},p=n(5),v=n(8),x=n.n(v),m=n(10),g=function(e,t){var n=Object(a.useRef)({}),c=Object(a.useRef)(!1),r={error:void 0,data:void 0},i=Object(a.useReducer)((function(e,t){switch(t.type){case"loading":return Object(s.a)({},r);case"fetched":return Object(s.a)(Object(s.a)({},r),{},{data:t.payload});case"error":return Object(s.a)(Object(s.a)({},r),{},{error:t.payload});default:return e}}),r),o=Object(j.a)(i,2),u=o[0],l=o[1];return Object(a.useEffect)((function(){if(e){var r=function(){var r=Object(m.a)(x.a.mark((function r(){var a,i;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(l({type:"loading"}),!n.current[e]){r.next=4;break}return l({type:"fetched",payload:n.current[e]}),r.abrupt("return");case 4:return r.prev=4,r.next=7,fetch(e,t);case 7:if((a=r.sent).ok){r.next=10;break}throw new Error(a.statusText);case 10:return r.next=12,a.json();case 12:if(i=r.sent,n.current[e]=i,!c.current){r.next=16;break}return r.abrupt("return");case 16:l({type:"fetched",payload:i}),r.next=24;break;case 19:if(r.prev=19,r.t0=r.catch(4),!c.current){r.next=23;break}return r.abrupt("return");case 23:l({type:"error",payload:r.t0});case 24:case"end":return r.stop()}}),r,null,[[4,19]])})));return function(){return r.apply(this,arguments)}}();return r(),function(){c.current=!0}}}),[e]),u},y=function(e){var t,n=e.question,c=e.userAnswer,r=e.callback;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:n.question}),null===(t=n.shuffled_answers)||void 0===t?void 0:t.map((function(e,t){return Object(l.jsx)("button",{value:e,disabled:!!c,onClick:function(e){return r(e.currentTarget.value)},children:e},t)}))]})},S=function(e){var t=e.score,n=e.userAnswers;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Your Final Score"}),Object(l.jsx)("h3",{children:t}),n.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsxs)("h3",{children:["Question:- ",e.question]}),Object(l.jsxs)("h4",{children:["Your Answer:- ",e.answer]}),Object(l.jsxs)("h4",{children:["Correct Answer:- ",e.correctAnswer]})]},t)}))]})},T=function(e){var t=e.url,n=g(t),c=n.data,r=n.error,i=Object(a.useState)(),o=Object(j.a)(i,2),u=o[0],b=o[1],d=Object(a.useState)([]),O=Object(j.a)(d,2),h=O[0],f=O[1],v=Object(a.useState)(0),x=Object(j.a)(v,2),m=x[0],T=x[1],w=Object(a.useState)(0),_=Object(j.a)(w,2),M=_[0],C=_[1],k=Object(a.useState)(!1),Q=Object(j.a)(k,2),z=Q[0],A=Q[1];Object(a.useEffect)((function(){if(c){console.log("Questions Updated");var e=function(e){return e.results.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{category:decodeURIComponent(e.category),question:decodeURIComponent(e.question),correct_answer:decodeURIComponent(e.correct_answer),incorrect_answers:e.incorrect_answers.map((function(e){return decodeURIComponent(e)}))})}))}(c);b(e.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{shuffled_answers:(t=[].concat(Object(p.a)(e.incorrect_answers),[e.correct_answer]),Object(p.a)(t).sort((function(){return Math.random()-.5})))});var t})))}}),[c]);return c&&u?r?Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:r.message})}):z?Object(l.jsx)("div",{children:Object(l.jsx)(S,{score:M,userAnswers:h})}):Object(l.jsxs)("div",{children:[Object(l.jsxs)("h4",{children:[m+1," / ",u.length]}),Object(l.jsxs)("h4",{children:["Score:- ",M]}),Object(l.jsx)(y,{question:u[m],userAnswer:h[m],callback:function(e){if(u){var t=u[m].correct_answer===e;t&&C((function(e){return e+1}));var n={question:u[m].question,answer:e,correct:t,correctAnswer:u[m].correct_answer};f((function(e){return[].concat(Object(p.a)(e),[n])})),setTimeout((function(){!function(){var e=m+1;u&&e<u.length?T(e):A(!0)}()}),500)}}})]}):Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"Loading..."})})};var w=function(){var e=d(),t=e.activeComponent,n=e.fetchURL;return Object(l.jsxs)("main",{children:[t===r.Main_Menu&&Object(l.jsx)(h,{}),t===r.Options&&Object(l.jsx)(f,{}),t===r.Standard_Quiz&&Object(l.jsx)(T,{url:n})]})};n(17);u.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(O,{children:Object(l.jsx)(w,{})})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.f69e25ef.chunk.js.map