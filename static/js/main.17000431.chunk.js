(this["webpackJsonpreact-quiz-game"]=this["webpackJsonpreact-quiz-game"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c,a,r=n(2),s=n.n(r),i=n(11),o=n.n(i),l=n(4),u=n(3);!function(e){e.Standard="STANDARD",e.Time="TIME",e.Marathon="MARATHON"}(c||(c={})),function(e){e.Main_Menu="Main_Menu",e.Options="Options",e.Quiz="Quiz"}(a||(a={}));var j=n(1),d=s.a.createContext(null),b=function(){return Object(r.useContext)(d)},f=function(e){var t=e.children,n=Object(r.useState)(a.Main_Menu),s=Object(l.a)(n,2),i=s[0],o=s[1],b=Object(r.useState)({category:"",difficulty:"",type:"",amount:10}),f=Object(l.a)(b,2),x=f[0],O=f[1],h=Object(r.useState)("https://opentdb.com/api.php?amount=10&encode=url3986"),m=Object(l.a)(h,2),p=m[0],v=m[1],y=Object(r.useState)(c.Standard),w=Object(l.a)(y,2),g=w[0],N=w[1],M=function(e){var t={};e.category&&(t=Object(u.a)(Object(u.a)({},t),{},{category:e.category})),e.difficulty&&(t=Object(u.a)(Object(u.a)({},t),{},{difficulty:e.difficulty})),e.type&&(t=Object(u.a)(Object(u.a)({},t),{},{type:e.type})),t=Object(u.a)(Object(u.a)({},t),{},{amount:e.amount}),t=Object(u.a)(Object(u.a)({},t),{},{encode:"url3986"});var n=new URLSearchParams(t);return console.log("https://opentdb.com/api.php?".concat(n)),"https://opentdb.com/api.php?".concat(n)};return Object(j.jsx)(d.Provider,{value:{activeComponent:i,gameOptions:x,fetchURL:p,gameMode:g,navigateToMainMenu:function(){o(a.Main_Menu)},navigateToOptions:function(){o(a.Options)},navigateToQuiz:function(e){o(a.Quiz),N(e),e===c.Marathon&&v(M(Object(u.a)(Object(u.a)({},x),{},{category:"",type:"multiple",amount:50})))},updateGameOptions:function(e){O(e),v(M(e))}},children:t})},x=n(5),O=n(12),h=function(){var e=b(),t=e.navigateToQuiz,n=e.navigateToOptions,a=Object(r.useState)(c.Standard),s=Object(l.a)(a,2),i=s[0],o=s[1];return Object(j.jsxs)("section",{className:"main-menu-container",children:[Object(j.jsx)("div",{className:"absolute top-1/2 left-0 z-20 transform -translate-y-1/2 -translate-x-24 sm:-translate-x-28 md:-translate-x-32 h-64 w-64 sm:h-80 sm:w-80 md:h-96 md:w-96 rounded-full border-12 sm:border-16 md:border-20 border-gray-700 bg-gray-500 ",children:function(){switch(i){case c.Standard:return Object(j.jsx)(x.d,{className:"w-full h-full p-14 text-white"});case c.Time:return Object(j.jsx)(O.a,{className:"w-full h-full p-14 text-white transform -rotate-12"});case c.Marathon:return Object(j.jsx)(x.f,{className:"w-full h-full p-14 text-white"});default:throw Error("No matching mode found!")}}()}),Object(j.jsx)("h1",{className:"text-center text-5xl sm:text-6xl md:text-7xl text-white font-black filter text-shadow-multi my-8",children:"Trivia Quiz"}),Object(j.jsxs)("div",{className:"absolute top-1/2 left-20 md:left-32 z-10 w-2/3 transform -translate-y-1/2 flex flex-col space-y-6 sm:space-y-8 md:space-y-10",children:[Object(j.jsx)("button",{className:"btn-standard",onClick:function(){return t(c.Standard)},onMouseEnter:function(){return o(c.Standard)},children:"Standard"}),Object(j.jsx)("button",{className:"btn-standard",onClick:function(){return t(c.Time)},onMouseEnter:function(){return o(c.Time)},children:"Timed"}),Object(j.jsx)("button",{className:"btn-standard",onClick:function(){return t(c.Marathon)},onMouseEnter:function(){return o(c.Marathon)},children:"Marathon"})]}),Object(j.jsxs)("div",{className:"absolute bottom-0 w-full flex justify-between p-5 z-10",children:[Object(j.jsxs)("button",{className:"text-5xl sm:text-6xl md:text-7xl text-white",onClick:n,children:[Object(j.jsx)(x.b,{"aria-hidden":!0,focusable:!1}),Object(j.jsx)("span",{className:"visually-hidden",children:"Options"})]}),Object(j.jsxs)("button",{className:"text-5xl sm:text-6xl md:text-7xl text-white",onClick:n,children:[Object(j.jsx)(x.a,{"aria-hidden":!0,focusable:!1}),Object(j.jsx)("span",{className:"visually-hidden",children:"Score"})]})]})]})},m=n(10),p=n.n(m),v=n(13),y=function(e,t){var n=Object(r.useRef)({}),c=Object(r.useRef)(!1),a={error:void 0,data:void 0},s=Object(r.useReducer)((function(e,t){switch(t.type){case"loading":return Object(u.a)({},a);case"fetched":return Object(u.a)(Object(u.a)({},a),{},{data:t.payload});case"error":return Object(u.a)(Object(u.a)({},a),{},{error:t.payload});default:return e}}),a),i=Object(l.a)(s,2),o=i[0],j=i[1];return Object(r.useEffect)((function(){if(e){var a=function(){var a=Object(v.a)(p.a.mark((function a(){var r,s;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(j({type:"loading"}),!n.current[e]){a.next=4;break}return j({type:"fetched",payload:n.current[e]}),a.abrupt("return");case 4:return a.prev=4,a.next=7,fetch(e,t);case 7:if((r=a.sent).ok){a.next=10;break}throw new Error(r.statusText);case 10:return a.next=12,r.json();case 12:if(s=a.sent,n.current[e]=s,!c.current){a.next=16;break}return a.abrupt("return");case 16:j({type:"fetched",payload:s}),a.next=24;break;case 19:if(a.prev=19,a.t0=a.catch(4),!c.current){a.next=23;break}return a.abrupt("return");case 23:j({type:"error",payload:a.t0});case 24:case"end":return a.stop()}}),a,null,[[4,19]])})));return function(){return a.apply(this,arguments)}}();return a(),function(){c.current=!0}}}),[e]),o},w=function(){var e=y("https://opentdb.com/api_category.php"),t=e.data,n=(e.error,b()),c=n.gameOptions,a=n.navigateToMainMenu,s=n.updateGameOptions,i=Object(r.useState)(c),o=Object(l.a)(i,2),d=o[0],f=o[1];return Object(j.jsxs)("section",{className:"flex flex-col justify-center h-full w-full space-y-5 px-5",children:[Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsx)("label",{className:"text-center pr-4",htmlFor:"categories",children:"Select Category"}),Object(j.jsxs)("select",{className:"py-1 text-center rounded-lg",id:"categories",value:d.category,onChange:function(e){return f(Object(u.a)(Object(u.a)({},d),{},{category:e.target.value}))},children:[Object(j.jsx)("option",{value:"",children:"Any Category"}),t&&t.trivia_categories.map((function(e){return Object(j.jsx)("option",{value:e.id,children:e.name})}))]})]}),Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsx)("label",{className:"text-center pr-4",htmlFor:"difficulty",children:"Select Difficulty"}),Object(j.jsxs)("select",{className:"py-1 text-center rounded-lg",id:"difficulty",value:d.difficulty,onChange:function(e){return f(Object(u.a)(Object(u.a)({},d),{},{difficulty:e.target.value}))},children:[Object(j.jsx)("option",{value:"",children:"Any Difficulty"}),Object(j.jsx)("option",{value:"easy",children:"Easy"}),Object(j.jsx)("option",{value:"medium",children:"Medium"}),Object(j.jsx)("option",{value:"hard",children:"Hard"})]})]}),Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsx)("label",{className:"text-center pr-4",htmlFor:"type",children:"Select Type"}),Object(j.jsxs)("select",{className:"py-1 text-center rounded-lg",id:"type",value:d.type,onChange:function(e){return f(Object(u.a)(Object(u.a)({},d),{},{type:e.target.value}))},children:[Object(j.jsx)("option",{value:"",children:"Any Type"}),Object(j.jsx)("option",{value:"multiple",children:"Multiple Choice"}),Object(j.jsx)("option",{value:"boolean",children:"True / False"})]})]}),Object(j.jsxs)("div",{className:"flex flex-col",children:[Object(j.jsx)("label",{className:"text-center pr-4",htmlFor:"number",children:"Select Number of Questions"}),Object(j.jsxs)("select",{className:"py-1 text-center rounded-lg",id:"number",value:d.amount,onChange:function(e){return f(Object(u.a)(Object(u.a)({},d),{},{amount:parseInt(e.target.value)}))},children:[Object(j.jsx)("option",{value:10,children:"10"}),Object(j.jsx)("option",{value:15,children:"15"}),Object(j.jsx)("option",{value:20,children:"20"})]})]}),Object(j.jsx)("button",{className:"btn-standard",onClick:function(){s(d),a()},children:"Back"})]})},g=n(6),N=function(e,t){var n=y(e,t),c=n.data,a=n.error,s=Object(r.useState)(),i=Object(l.a)(s,2),o=i[0],j=i[1];return Object(r.useEffect)((function(){if(c){var e=c.results.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{category:decodeURIComponent(e.category),question:decodeURIComponent(e.question),correct_answer:decodeURIComponent(e.correct_answer),incorrect_answers:e.incorrect_answers.map((function(e){return decodeURIComponent(e)}))})}));j(e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{shuffled_answers:(t=[].concat(Object(g.a)(e.incorrect_answers),[e.correct_answer]),Object(g.a)(t).sort((function(){return Math.random()-.5})))});var t})))}}),[c]),[o,a]},M=function(e){var t,n=e.question,c=e.userAnswer,a=e.callback;return Object(j.jsxs)("div",{className:"flex flex-col justify-center h-full",children:[Object(j.jsx)("h1",{className:"text-center text-2xl font-bold my-10 px-4",children:n.question}),Object(j.jsx)("div",{className:"flex flex-col h-full space-y-5",children:null===(t=n.shuffled_answers)||void 0===t?void 0:t.map((function(e,t){return Object(j.jsx)("button",{className:"btn-standard",value:e,disabled:!!c,onClick:function(e){return a(e.currentTarget.value)},children:e},t)}))})]})},S=function(e){var t=e.score,n=e.userAnswers;return Object(j.jsxs)("div",{className:"flex flex-col items-center space-y-5",children:[Object(j.jsx)("h2",{className:"text-2xl font-bold",children:"Your Final Score"}),Object(j.jsx)("h3",{className:"text-2xl font-bold",children:t}),n.map((function(e,t){return Object(j.jsxs)("div",{className:"text-center",children:[Object(j.jsx)("h3",{className:" font-bold mb-2",children:e.question}),Object(j.jsxs)("h4",{children:["Your Answer:- ",e.answer]}),Object(j.jsxs)("h4",{children:["Correct Answer:- ",e.correctAnswer]})]},t)}))]})},T=function(e,t){var n=Object(r.useState)(e),c=Object(l.a)(n,2),a=c[0],s=c[1],i=Object(r.useState)(!1),o=Object(l.a)(i,2),u=o[0],j=o[1],d=Object(r.useRef)(),b=Object(r.useRef)(),f=function(){j(!1)};return Object(r.useEffect)((function(){b.current=t}),[t]),Object(r.useEffect)((function(){return u&&(d.current=window.setInterval((function(){var e=a-1;e>=0?s(e):(b.current&&b.current(),f())}),1e3)),function(){return window.clearInterval(d.current)}}),[u,a]),[a,u,function(){j(!0)},f,function(){s(e),j(!1)}]},k=function(e){var t=e.currentTime/e.maxTime*100;return Object(j.jsx)("div",{className:"h-5 bg-green-100 relative",children:Object(j.jsx)("div",{style:{width:"".concat(t,"%")},className:"h-5 bg-green-300 transition-{width} duration-1000 ease-linear"})})},C=function(e){var t=e.currentLives,n=e.maxLives,c=Array.from(Array(n).keys());return Object(j.jsx)("div",{className:"flex flex-row justify-center my-2 space-x-1",children:c.map((function(e,n){return n<t?Object(j.jsx)(x.c,{className:"fill-current text-red-500"}):Object(j.jsx)(x.e,{className:"fill-current text-red-500"})}))})},A=function(e){var t=e.url,n=e.mode,a=N(t),s=Object(l.a)(a,2),i=s[0],o=s[1],u=Object(r.useState)(0),d=Object(l.a)(u,2),f=d[0],x=d[1],O=Object(r.useState)(0),h=Object(l.a)(O,2),m=h[0],p=h[1],v=Object(r.useState)(!1),y=Object(l.a)(v,2),w=y[0],A=y[1],_=Object(r.useState)([]),E=Object(l.a)(_,2),R=E[0],z=E[1],q=T(20,(function(){return J("")})),I=Object(l.a)(q,5),L=I[0],Q=(I[1],I[2]),U=(I[3],I[4]),F=Object(r.useState)(5),D=Object(l.a)(F,2),B=D[0],G=D[1],H=b().navigateToMainMenu,J=function(e){if(i){var t=i[f].correct_answer===e;if(t&&Y(),!t&&n===c.Marathon){var a=B-1;a>=0?G(a):A(!0)}var r={question:i[f].question,answer:e,correct:t,correctAnswer:i[f].correct_answer};z((function(e){return[].concat(Object(g.a)(e),[r])})),setTimeout((function(){P()}),500)}},P=function(){var e=f+1;i&&e<i.length?x(e):A(!0)},Y=function(){switch(n){case c.Standard:p((function(e){return e+1}));break;case c.Time:p((function(e){return e+Math.max(0,L)}));break;case c.Marathon:p((function(e){return e+5*B}));break;default:throw new Error("No matching mode found!")}};return Object(r.useEffect)((function(){n===c.Time&&(U(),Q())}),[f]),o?Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:o.message})}):i?w?Object(j.jsxs)("div",{className:"flex flex-col h-full p-5 space-y-5",children:[Object(j.jsx)(S,{score:m,userAnswers:R}),Object(j.jsx)("button",{className:"btn-standard",onClick:H,children:"Back"})]}):Object(j.jsxs)("div",{className:"flex flex-col justify-evenly h-full w-full",children:[Object(j.jsxs)("div",{className:"flex flex-row justify-between px-5 py-1 bg-gray-400",children:[Object(j.jsxs)("h4",{children:[f+1," / ",i.length]}),Object(j.jsxs)("h4",{children:["Score:- ",m]})]}),n===c.Time&&Object(j.jsx)(k,{currentTime:L,maxTime:20}),n===c.Marathon&&Object(j.jsx)(C,{currentLives:B,maxLives:5}),Object(j.jsx)(M,{question:i[f],userAnswer:R[f],callback:J})]}):Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Loading..."})})};var _=function(){var e=b(),t=e.activeComponent,n=e.fetchURL,c=e.gameMode;return Object(j.jsxs)("main",{className:"h-screen w-screen flex justify-center items-center",children:[t===a.Main_Menu&&Object(j.jsx)(h,{}),t===a.Options&&Object(j.jsx)(w,{}),t===a.Quiz&&Object(j.jsx)(A,{url:n,mode:c})]})};n(20);o.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(f,{children:Object(j.jsx)(_,{})})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.17000431.chunk.js.map